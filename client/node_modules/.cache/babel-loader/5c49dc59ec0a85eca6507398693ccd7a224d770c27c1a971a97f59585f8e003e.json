{"ast":null,"code":"import{React,useEffect,useState}from'react';import io from'socket.io-client';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io.connect(\"http://localhost:3001\");window.addEventListener('beforeunload',function(e){// Cancel the event\ne.preventDefault();// Chrome requires returnValue to be set\n});function LoginPage(){var val=false;const navigate=useNavigate();const[userName,setUserName]=useState(\"\");const[password,setPassword]=useState(\"\");const[IsLogged,setIslogged]=useState(false);// localStorage.clear()\n// const handleInput = () => {\n//   socket.emit(\"login\",{userName, password})\n// }\nwindow.addEventListener('beforeunload',()=>{localStorage.clear();});useEffect(()=>{// socket.on(\"login_success\",(data)=>{\n//     console.log(data);\n//     console.log(socket.id);\n//     // navigate(\"/Home\")\n// })\nconst storedLoginStatus=localStorage.getItem('IsLogged');console.log(\"Status : \"+storedLoginStatus);if(storedLoginStatus){setIslogged(true);}socket.on(\"admin\",()=>{navigate(\"/Admin\");});socket.on(\"user\",()=>{navigate(\"/User\");});},[socket]);const handleUser=()=>{socket.emit(\"user\");};const handleAdmin=()=>{localStorage.setItem('IsLogged','true');setIslogged(true);socket.emit(\"admin\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Auction Mania\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUser,children:\"Teams\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAdmin,disabled:IsLogged,children:\"Auctioneer\"})]});}export default LoginPage;","map":{"version":3,"names":["React","useEffect","useState","io","useNavigate","jsx","_jsx","jsxs","_jsxs","socket","connect","window","addEventListener","e","preventDefault","LoginPage","val","navigate","userName","setUserName","password","setPassword","IsLogged","setIslogged","localStorage","clear","storedLoginStatus","getItem","console","log","on","handleUser","emit","handleAdmin","setItem","children","onClick","disabled"],"sources":["C:/java_prog/client/src/LoginPage.js"],"sourcesContent":["import {React, useEffect, useState} from 'react'\r\nimport io from 'socket.io-client'\r\nimport {useNavigate} from 'react-router-dom'\r\n\r\nconst socket = io.connect(\"http://localhost:3001\")\r\n\r\nwindow.addEventListener('beforeunload', function (e) {\r\n  // Cancel the event\r\n  e.preventDefault();\r\n  // Chrome requires returnValue to be set\r\n});\r\n\r\nfunction LoginPage() {\r\n  var val = false\r\n  const navigate = useNavigate()\r\n  const [userName, setUserName] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [IsLogged, setIslogged] = useState(false)\r\n  // localStorage.clear()\r\n  // const handleInput = () => {\r\n  //   socket.emit(\"login\",{userName, password})\r\n  // }\r\n  window.addEventListener('beforeunload', () => {\r\n    localStorage.clear();\r\n  });\r\n\r\n  useEffect(()=>{\r\n    // socket.on(\"login_success\",(data)=>{\r\n    //     console.log(data);\r\n    //     console.log(socket.id);\r\n    //     // navigate(\"/Home\")\r\n    // })\r\n  \r\n    const storedLoginStatus = localStorage.getItem('IsLogged');\r\n    console.log(\"Status : \"+storedLoginStatus);\r\n    if (storedLoginStatus) {\r\n      setIslogged(true);\r\n    }\r\n    \r\n    socket.on(\"admin\", ()=>{\r\n      navigate(\"/Admin\")\r\n    })\r\n    socket.on(\"user\", ()=>{\r\n      navigate(\"/User\")\r\n    })\r\n\r\n\r\n  },[socket])\r\n\r\n  \r\n\r\n\r\n  const handleUser = () =>{\r\n    socket.emit(\"user\")\r\n  }\r\n\r\n  const handleAdmin = () =>{\r\n    \r\n    localStorage.setItem('IsLogged','true')\r\n    setIslogged(true)\r\n    socket.emit(\"admin\")\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n        <h1>Auction Mania</h1>\r\n        <button onClick={handleUser}>Teams</button>\r\n        <button onClick={handleAdmin} disabled={IsLogged}>Auctioneer</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginPage\r\n"],"mappings":"AAAA,OAAQA,KAAK,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CACjC,OAAQC,WAAW,KAAO,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,MAAM,CAAGN,EAAE,CAACO,OAAO,CAAC,uBAAuB,CAAC,CAElDC,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAE,SAAUC,CAAC,CAAE,CACnD;AACAA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB;AACF,CAAC,CAAC,CAEF,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,GAAI,CAAAC,GAAG,CAAG,KAAK,CACf,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACkB,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACoB,QAAQ,CAAEC,WAAW,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAC/C;AACA;AACA;AACA;AACAS,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAE,IAAM,CAC5CY,YAAY,CAACC,KAAK,CAAC,CAAC,CACtB,CAAC,CAAC,CAEFxB,SAAS,CAAC,IAAI,CACZ;AACA;AACA;AACA;AACA;AAEA,KAAM,CAAAyB,iBAAiB,CAAGF,YAAY,CAACG,OAAO,CAAC,UAAU,CAAC,CAC1DC,OAAO,CAACC,GAAG,CAAC,WAAW,CAACH,iBAAiB,CAAC,CAC1C,GAAIA,iBAAiB,CAAE,CACrBH,WAAW,CAAC,IAAI,CAAC,CACnB,CAEAd,MAAM,CAACqB,EAAE,CAAC,OAAO,CAAE,IAAI,CACrBb,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAC,CACFR,MAAM,CAACqB,EAAE,CAAC,MAAM,CAAE,IAAI,CACpBb,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAC,CAAC,CAGJ,CAAC,CAAC,CAACR,MAAM,CAAC,CAAC,CAKX,KAAM,CAAAsB,UAAU,CAAGA,CAAA,GAAK,CACtBtB,MAAM,CAACuB,IAAI,CAAC,MAAM,CAAC,CACrB,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAK,CAEvBT,YAAY,CAACU,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CACvCX,WAAW,CAAC,IAAI,CAAC,CACjBd,MAAM,CAACuB,IAAI,CAAC,OAAO,CAAC,CACtB,CAAC,CAGD,mBACExB,KAAA,QAAA2B,QAAA,eACI7B,IAAA,OAAA6B,QAAA,CAAI,eAAa,CAAI,CAAC,cACtB7B,IAAA,WAAQ8B,OAAO,CAAEL,UAAW,CAAAI,QAAA,CAAC,OAAK,CAAQ,CAAC,cAC3C7B,IAAA,WAAQ8B,OAAO,CAAEH,WAAY,CAACI,QAAQ,CAAEf,QAAS,CAAAa,QAAA,CAAC,YAAU,CAAQ,CAAC,EACpE,CAAC,CAEV,CAEA,cAAe,CAAApB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}