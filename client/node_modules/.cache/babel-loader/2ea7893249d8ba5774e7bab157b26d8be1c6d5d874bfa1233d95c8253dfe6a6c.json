{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./App.css';import{ToastContainer,toast}from'react-toastify';import{io}from'socket.io-client';import Stats from'./Stats';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io.connect(\"http://localhost:3001\");function Content(props){const[player,setPlayer]=useState(\"\");const[c_team,setCTeam]=useState(\"\");const[c_bid,setCBid]=useState(\"0\");const[isDisabled,setIsDisabled]=useState(false);const[timer,setTimer]=useState(15);const[unsold,setUnsold]=useState(false);//Start or Next\nconst handleEvent=()=>{document.getElementById(\"next-btn\").innerHTML=\"Next\";setCBid(\"0\");setCTeam(\"-\");setIsDisabled(true);socket.emit(\"req_player\");};//Sold\nconst handleSold=()=>{const cur_team=document.getElementById(\"bid-team\").value;const cur_amount=document.getElementById(\"bid-amount\").value;socket.emit(\"req_player\");socket.emit(\"handle_sold\",{cur_team,cur_amount,player});};const handleUnSold=()=>{if(c_bid===\"0\"){toast.error(\"Player Unsold.\");socket.emit(\"handle_unsold\");}else{setUnsold(true);}};useEffect(()=>{socket.emit(\"update_bid\");socket.on(\"requested_player\",data=>{setPlayer(data.player);});socket.on(\"sold_success\",data=>{toast.success(\"Player sold.\");setCBid(\"0\");setCTeam(\"\");setTimer(15);setUnsold(false);});socket.on(\"reply_handle_bid\",data=>{setCTeam(data.team);setCBid(data.amount);});socket.on(\"updated_time\",time=>{setTimer(time);});return()=>{socket.off(\"requested_player\");socket.off(\"sold_success\");socket.off(\"update_timer\");};},[socket]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"top-left\",children:[/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(\"em\",{children:\"Auctioneer Table\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"Set No: \",/*#__PURE__*/_jsx(\"span\",{id:\"set-no\",children:player[\"Set_No\"]})]})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"Set Name: \",/*#__PURE__*/_jsx(\"span\",{id:\"set-name\",children:player[\"Set_Name\"]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"top-right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"timer-section\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Timer: \"}),/*#__PURE__*/_jsx(\"span\",{id:\"timer\",children:timer})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-left\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Player Name: \"}),/*#__PURE__*/_jsx(\"span\",{id:\"player-name\",children:player[\"First_Name\"]+\" \"+player[\"Surname\"]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Player Stats\"}),/*#__PURE__*/_jsx(Stats,{player:player})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auction-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Auction Details\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Base Price: \"}),/*#__PURE__*/_jsx(\"span\",{id:\"base-price\",children:player[\"Base_Price_Lakhs\"]}),\" Lakhs\"]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Current Bid \"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Team\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:c_team,id:\"bid-team\",readOnly:true}),\" | \",/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Amount\"})}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:c_bid,id:\"bid-amount\",readOnly:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-right\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"unsold-btn\",onClick:handleUnSold,disabled:unsold,children:\"Unsold\"}),/*#__PURE__*/_jsx(\"button\",{id:\"sold-btn\",onClick:handleSold,children:\"Sold\"}),/*#__PURE__*/_jsx(\"button\",{id:\"next-btn\",onClick:handleEvent,disabled:isDisabled,children:\"Start\"})]})]});}export default Content;","map":{"version":3,"names":["React","useEffect","useState","ToastContainer","toast","io","Stats","jsx","_jsx","jsxs","_jsxs","socket","connect","Content","props","player","setPlayer","c_team","setCTeam","c_bid","setCBid","isDisabled","setIsDisabled","timer","setTimer","unsold","setUnsold","handleEvent","document","getElementById","innerHTML","emit","handleSold","cur_team","value","cur_amount","handleUnSold","error","on","data","success","team","amount","time","off","className","children","id","type","readOnly","onClick","disabled"],"sources":["C:/java_prog/client/src/Content.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport './App.css'\r\nimport {ToastContainer, toast} from 'react-toastify'\r\nimport { io } from 'socket.io-client'\r\nimport Stats from './Stats'\r\n\r\nconst socket = io.connect(\"http://localhost:3001\")\r\n\r\n\r\nfunction Content(props) {\r\n\r\n    const [player, setPlayer] = useState(\"\")\r\n    const [c_team, setCTeam] = useState(\"\")\r\n    const [c_bid, setCBid] = useState(\"0\")\r\n    const [isDisabled, setIsDisabled] = useState(false)\r\n    const [timer, setTimer] = useState(15);\r\n    const [unsold, setUnsold] = useState(false)\r\n\r\n    //Start or Next\r\n    const handleEvent = () => {\r\n        document.getElementById(\"next-btn\").innerHTML = \"Next\"\r\n        setCBid(\"0\")\r\n        setCTeam(\"-\")\r\n        setIsDisabled(true)\r\n        socket.emit(\"req_player\")\r\n    }\r\n\r\n    //Sold\r\n    const handleSold = () => {\r\n        const cur_team = document.getElementById(\"bid-team\").value\r\n        const cur_amount = document.getElementById(\"bid-amount\").value\r\n        socket.emit(\"req_player\")\r\n        socket.emit(\"handle_sold\", { cur_team, cur_amount, player })\r\n    }\r\n\r\n    const handleUnSold = () => {\r\n        if(c_bid === \"0\"){\r\n            toast.error(\"Player Unsold.\")\r\n            socket.emit(\"handle_unsold\")\r\n        }\r\n        else{\r\n            setUnsold(true)\r\n        }\r\n    }\r\n    useEffect(() => {\r\n\r\n        socket.emit(\"update_bid\")\r\n\r\n\r\n        socket.on(\"requested_player\", (data) => {\r\n            setPlayer(data.player)\r\n        })\r\n\r\n        socket.on(\"sold_success\", (data) => {\r\n            toast.success(\"Player sold.\")\r\n            setCBid(\"0\")\r\n            setCTeam(\"\")\r\n            setTimer(15)\r\n            setUnsold(false)\r\n        })\r\n\r\n        socket.on(\"reply_handle_bid\", (data) => {\r\n            setCTeam(data.team)\r\n            setCBid(data.amount)\r\n        })\r\n\r\n        socket.on(\"updated_time\", (time)=>{\r\n            setTimer(time)\r\n        })\r\n\r\n\r\n        return () => {\r\n            socket.off(\"requested_player\");\r\n            socket.off(\"sold_success\");\r\n            socket.off(\"update_timer\")\r\n        };\r\n    }, [socket])\r\n\r\n\r\n    return (\r\n        \r\n        <div className='container'>\r\n            \r\n            <ToastContainer />\r\n            <div className=\"top-left\">\r\n                <h1><em>Auctioneer Table</em></h1>\r\n                <p><b>Set No: <span id=\"set-no\">{player[\"Set_No\"]}</span></b></p>\r\n                <p><b>Set Name: <span id=\"set-name\">{player[\"Set_Name\"]}</span></b></p>\r\n            </div>\r\n            <div className=\"top-right\">\r\n                <div className=\"timer-section\">\r\n                    <p><b>Timer: </b><span id=\"timer\">{timer}</span></p>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"center\">\r\n                <div className=\"bottom-left\">\r\n                    <p><b>Player Name: </b><span id=\"player-name\">{player[\"First_Name\"] + \" \" + player[\"Surname\"]}</span></p>\r\n                    <h2>Player Stats</h2>\r\n                    {/* <p>Stats: <span id=\"player-stats\">Stats Here</span></p> */}\r\n                    <Stats player = {player} />\r\n                </div>\r\n                <div className='auction-details'>\r\n                    <h2>Auction Details</h2>\r\n                    <p><b>Base Price: </b><span id=\"base-price\">{player[\"Base_Price_Lakhs\"]}</span> Lakhs</p>\r\n                    <p><b>Current Bid </b></p><br /><span><b>Team</b></span><input type=\"text\" value={c_team} id=\"bid-team\" readOnly /> | <span><b>Amount</b></span> <input type=\"text\" value={c_bid} id=\"bid-amount\" readOnly />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bottom-right\">\r\n                <button id=\"unsold-btn\" onClick={handleUnSold} disabled={unsold}>Unsold</button>\r\n                <button id=\"sold-btn\" onClick={handleSold}>Sold</button>\r\n                <button id=\"next-btn\" onClick={handleEvent} disabled={isDisabled}>Start</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Content\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,WAAW,CAClB,OAAQC,cAAc,CAAEC,KAAK,KAAO,gBAAgB,CACpD,OAASC,EAAE,KAAQ,kBAAkB,CACrC,MAAO,CAAAC,KAAK,KAAM,SAAS,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,MAAM,CAAGN,EAAE,CAACO,OAAO,CAAC,uBAAuB,CAAC,CAGlD,QAAS,CAAAC,OAAOA,CAACC,KAAK,CAAE,CAEpB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACe,MAAM,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACvC,KAAM,CAACiB,KAAK,CAAEC,OAAO,CAAC,CAAGlB,QAAQ,CAAC,GAAG,CAAC,CACtC,KAAM,CAACmB,UAAU,CAAEC,aAAa,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACqB,KAAK,CAAEC,QAAQ,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACuB,MAAM,CAAEC,SAAS,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CAE3C;AACA,KAAM,CAAAyB,WAAW,CAAGA,CAAA,GAAM,CACtBC,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACC,SAAS,CAAG,MAAM,CACtDV,OAAO,CAAC,GAAG,CAAC,CACZF,QAAQ,CAAC,GAAG,CAAC,CACbI,aAAa,CAAC,IAAI,CAAC,CACnBX,MAAM,CAACoB,IAAI,CAAC,YAAY,CAAC,CAC7B,CAAC,CAED;AACA,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,QAAQ,CAAGL,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACK,KAAK,CAC1D,KAAM,CAAAC,UAAU,CAAGP,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACK,KAAK,CAC9DvB,MAAM,CAACoB,IAAI,CAAC,YAAY,CAAC,CACzBpB,MAAM,CAACoB,IAAI,CAAC,aAAa,CAAE,CAAEE,QAAQ,CAAEE,UAAU,CAAEpB,MAAO,CAAC,CAAC,CAChE,CAAC,CAED,KAAM,CAAAqB,YAAY,CAAGA,CAAA,GAAM,CACvB,GAAGjB,KAAK,GAAK,GAAG,CAAC,CACbf,KAAK,CAACiC,KAAK,CAAC,gBAAgB,CAAC,CAC7B1B,MAAM,CAACoB,IAAI,CAAC,eAAe,CAAC,CAChC,CAAC,IACG,CACAL,SAAS,CAAC,IAAI,CAAC,CACnB,CACJ,CAAC,CACDzB,SAAS,CAAC,IAAM,CAEZU,MAAM,CAACoB,IAAI,CAAC,YAAY,CAAC,CAGzBpB,MAAM,CAAC2B,EAAE,CAAC,kBAAkB,CAAGC,IAAI,EAAK,CACpCvB,SAAS,CAACuB,IAAI,CAACxB,MAAM,CAAC,CAC1B,CAAC,CAAC,CAEFJ,MAAM,CAAC2B,EAAE,CAAC,cAAc,CAAGC,IAAI,EAAK,CAChCnC,KAAK,CAACoC,OAAO,CAAC,cAAc,CAAC,CAC7BpB,OAAO,CAAC,GAAG,CAAC,CACZF,QAAQ,CAAC,EAAE,CAAC,CACZM,QAAQ,CAAC,EAAE,CAAC,CACZE,SAAS,CAAC,KAAK,CAAC,CACpB,CAAC,CAAC,CAEFf,MAAM,CAAC2B,EAAE,CAAC,kBAAkB,CAAGC,IAAI,EAAK,CACpCrB,QAAQ,CAACqB,IAAI,CAACE,IAAI,CAAC,CACnBrB,OAAO,CAACmB,IAAI,CAACG,MAAM,CAAC,CACxB,CAAC,CAAC,CAEF/B,MAAM,CAAC2B,EAAE,CAAC,cAAc,CAAGK,IAAI,EAAG,CAC9BnB,QAAQ,CAACmB,IAAI,CAAC,CAClB,CAAC,CAAC,CAGF,MAAO,IAAM,CACThC,MAAM,CAACiC,GAAG,CAAC,kBAAkB,CAAC,CAC9BjC,MAAM,CAACiC,GAAG,CAAC,cAAc,CAAC,CAC1BjC,MAAM,CAACiC,GAAG,CAAC,cAAc,CAAC,CAC9B,CAAC,CACL,CAAC,CAAE,CAACjC,MAAM,CAAC,CAAC,CAGZ,mBAEID,KAAA,QAAKmC,SAAS,CAAC,WAAW,CAAAC,QAAA,eAEtBtC,IAAA,CAACL,cAAc,GAAE,CAAC,cAClBO,KAAA,QAAKmC,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrBtC,IAAA,OAAAsC,QAAA,cAAItC,IAAA,OAAAsC,QAAA,CAAI,kBAAgB,CAAI,CAAC,CAAI,CAAC,cAClCtC,IAAA,MAAAsC,QAAA,cAAGpC,KAAA,MAAAoC,QAAA,EAAG,UAAQ,cAAAtC,IAAA,SAAMuC,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAE/B,MAAM,CAAC,QAAQ,CAAC,CAAO,CAAC,EAAG,CAAC,CAAG,CAAC,cACjEP,IAAA,MAAAsC,QAAA,cAAGpC,KAAA,MAAAoC,QAAA,EAAG,YAAU,cAAAtC,IAAA,SAAMuC,EAAE,CAAC,UAAU,CAAAD,QAAA,CAAE/B,MAAM,CAAC,UAAU,CAAC,CAAO,CAAC,EAAG,CAAC,CAAG,CAAC,EACtE,CAAC,cACNP,IAAA,QAAKqC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtBtC,IAAA,QAAKqC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC1BpC,KAAA,MAAAoC,QAAA,eAAGtC,IAAA,MAAAsC,QAAA,CAAG,SAAO,CAAG,CAAC,cAAAtC,IAAA,SAAMuC,EAAE,CAAC,OAAO,CAAAD,QAAA,CAAEvB,KAAK,CAAO,CAAC,EAAG,CAAC,CACnD,CAAC,CAEL,CAAC,cAENb,KAAA,QAAKmC,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACnBpC,KAAA,QAAKmC,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxBpC,KAAA,MAAAoC,QAAA,eAAGtC,IAAA,MAAAsC,QAAA,CAAG,eAAa,CAAG,CAAC,cAAAtC,IAAA,SAAMuC,EAAE,CAAC,aAAa,CAAAD,QAAA,CAAE/B,MAAM,CAAC,YAAY,CAAC,CAAG,GAAG,CAAGA,MAAM,CAAC,SAAS,CAAC,CAAO,CAAC,EAAG,CAAC,cACzGP,IAAA,OAAAsC,QAAA,CAAI,cAAY,CAAI,CAAC,cAErBtC,IAAA,CAACF,KAAK,EAACS,MAAM,CAAIA,MAAO,CAAE,CAAC,EAC1B,CAAC,cACNL,KAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5BtC,IAAA,OAAAsC,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBpC,KAAA,MAAAoC,QAAA,eAAGtC,IAAA,MAAAsC,QAAA,CAAG,cAAY,CAAG,CAAC,cAAAtC,IAAA,SAAMuC,EAAE,CAAC,YAAY,CAAAD,QAAA,CAAE/B,MAAM,CAAC,kBAAkB,CAAC,CAAO,CAAC,SAAM,EAAG,CAAC,cACzFP,IAAA,MAAAsC,QAAA,cAAGtC,IAAA,MAAAsC,QAAA,CAAG,cAAY,CAAG,CAAC,CAAG,CAAC,cAAAtC,IAAA,QAAK,CAAC,cAAAA,IAAA,SAAAsC,QAAA,cAAMtC,IAAA,MAAAsC,QAAA,CAAG,MAAI,CAAG,CAAC,CAAM,CAAC,cAAAtC,IAAA,UAAOwC,IAAI,CAAC,MAAM,CAACd,KAAK,CAAEjB,MAAO,CAAC8B,EAAE,CAAC,UAAU,CAACE,QAAQ,MAAE,CAAC,MAAG,cAAAzC,IAAA,SAAAsC,QAAA,cAAMtC,IAAA,MAAAsC,QAAA,CAAG,QAAM,CAAG,CAAC,CAAM,CAAC,IAAC,cAAAtC,IAAA,UAAOwC,IAAI,CAAC,MAAM,CAACd,KAAK,CAAEf,KAAM,CAAC4B,EAAE,CAAC,YAAY,CAACE,QAAQ,MAAE,CAAC,EAC5M,CAAC,EACL,CAAC,cAENvC,KAAA,QAAKmC,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzBtC,IAAA,WAAQuC,EAAE,CAAC,YAAY,CAACG,OAAO,CAAEd,YAAa,CAACe,QAAQ,CAAE1B,MAAO,CAAAqB,QAAA,CAAC,QAAM,CAAQ,CAAC,cAChFtC,IAAA,WAAQuC,EAAE,CAAC,UAAU,CAACG,OAAO,CAAElB,UAAW,CAAAc,QAAA,CAAC,MAAI,CAAQ,CAAC,cACxDtC,IAAA,WAAQuC,EAAE,CAAC,UAAU,CAACG,OAAO,CAAEvB,WAAY,CAACwB,QAAQ,CAAE9B,UAAW,CAAAyB,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC/E,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAjC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}