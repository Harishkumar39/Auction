{"ast":null,"code":"import React,{useEffect,useState}from'react';import{io}from\"socket.io-client\";import{useNavigate}from'react-router-dom';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io.connect(\"http://localhost:3001\");function User(){const navigate=useNavigate();const[Room,setRoom]=useState(\"\");const[Message,setMessage]=useState(\"\");const[team,setTeam]=useState(\"\");const joinRoom=()=>{if(Room!==\"\")socket.emit(\"join_room\",Room);};const sendMessage=()=>{socket.emit(\"send_message\",{message:Message,room:Room});};const createTeam=()=>{socket.emit(\"create_team\",team);};useEffect(()=>{socket.on(\"receive_message\",data=>{toast.dark(\"Room created with Room no. \".concat(data.id));});socket.on(\"room_joined\",data=>{toast.success(\"Joined in Room \"+data);});socket.on(\"invalid_room\",()=>{toast.error(\"Invalid Room\");});socket.on(\"create_team_reply\",data=>{alert(data.Message);if(data.nav_message==='success'){navigate('/User/UserContent',{state:[data.teamName,data.slots,data.purse,data.teamSize]});}});},[socket]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome User\"}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Room No.\",onChange:event=>{setRoom(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:joinRoom,children:\"Join\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your team name. Ex. CSK\",onChange:event=>{setTeam(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:createTeam,children:\"Send\"})]});}export default User;","map":{"version":3,"names":["React","useEffect","useState","io","useNavigate","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","socket","connect","User","navigate","Room","setRoom","Message","setMessage","team","setTeam","joinRoom","emit","sendMessage","message","room","createTeam","on","data","dark","concat","id","success","error","alert","nav_message","state","teamName","slots","purse","teamSize","children","type","placeholder","onChange","event","target","value","onClick"],"sources":["C:/java_prog/client/src/User.js"],"sourcesContent":["import React, { useEffect,useState } from 'react'\r\nimport {io} from \"socket.io-client\"\r\n\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport {ToastContainer, toast} from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst socket = io.connect(\"http://localhost:3001\")\r\n\r\nfunction User() {\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const [Room, setRoom] = useState(\"\")\r\n  const [Message, setMessage] = useState(\"\")\r\n  const [team, setTeam] = useState(\"\")\r\n\r\n  const joinRoom = ()=>{\r\n    if(Room !== \"\")\r\n      socket.emit(\"join_room\", Room)\r\n  }\r\n\r\n  const sendMessage = () =>{ \r\n      socket.emit(\"send_message\",{message : Message ,room: Room})\r\n  }\r\n\r\n  const createTeam = () =>{\r\n    socket.emit(\"create_team\",team)\r\n  }\r\n\r\n  useEffect(()=>{\r\n    socket.on(\"receive_message\",(data)=>{\r\n      toast.dark(`Room created with Room no. ${data.id}`)\r\n    })\r\n\r\n    socket.on(\"room_joined\", (data)=>{\r\n      toast.success(\"Joined in Room \"+data)\r\n      \r\n    })\r\n\r\n    socket.on(\"invalid_room\", ()=>{\r\n      toast.error(\"Invalid Room\")\r\n    })\r\n\r\n    socket.on(\"create_team_reply\",(data)=>{\r\n      alert(data.Message)\r\n      if( data.nav_message === 'success'){\r\n        navigate('/User/UserContent',{state: [data.teamName, data.slots, data.purse, data.teamSize]})\r\n      }\r\n    })\r\n\r\n\r\n\r\n  },[socket])\r\n\r\n  return (\r\n    <div>\r\n      <h1>Welcome User</h1>\r\n      <ToastContainer />\r\n      <input type='text' placeholder='Enter Room No.' onChange={(event)=>{\r\n          setRoom(event.target.value)\r\n      }} />\r\n      <button onClick={joinRoom}>Join</button>\r\n      {/* <input type='text' placeholder='Enter your team name' onChange={(event)=>{\r\n          setMessage(event.target.value)\r\n      }} />\r\n      <button onClick={sendMessage}>Send</button> */}\r\n      <input type='text' placeholder='Enter your team name. Ex. CSK' onChange={(event)=>{\r\n          setTeam(event.target.value)\r\n      }} />\r\n      <button onClick={createTeam}>Send</button>\r\n      {/* <h1>Message : </h1>\r\n      <p>{ReceiveMsg}</p> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}